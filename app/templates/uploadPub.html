{% extends "layout.html" %}


{% block content %}
<div class="container">
  <h3>Upload new {{ obj }}</h3>
  <div class="row">
    <div class="col s12 m6">
      <form method="POST" action="" enctype="multipart/form-data" validate> 
	{{ form.hidden_tag() }}
	<div class="row">
	  <div class="card">
	    <span class="card-title">Metadata</span>
	    <div class="card-content">
	      <fieldset>
		<legend>Asset data</legend>
		<div class="input-field col s6">
		  {{ form.title.label }}
		  {{ form.title(class_="active validate")|safe }} 
		</div>
		<div class="input-field col s6">
		  {{ form.authorship.label }}
		  {{ form.authorship(class_="active validate")|safe }} 
		</div>
		<div class="input-field col s12">
		  {{ form.description.label }}
		  {{ form.description(class_="materialize-textarea")|safe }}
		</div>
		<div class="input-field col s12">
		  {{ form.license.label }}
		  {{ form.license(class_="active")|safe }}
		</div>
	      </fieldset>

	      <fieldset>
		<legend>Project data</legend>
		<div class="input-field col s6">
		  {{ form.project_name.label }}
		  {{ form.project_name(class_="active validate")|safe }} 
		</div>
		<div class="input-field col s6">
		  {{ form.project_year.label }}
		  {{ form.project_year(class_="active validate")|safe }} 
		</div>
		<div class="input-field col s6">
		  {{ form.project_url.label }}
		  {{ form.project_url(class_="active")|safe }} 
		</div>
		<div class="input-field col s6">
		  {{ form.project_partners.label }}
		  {{ form.project_partners(class_="active")|safe }} 
		</div>
	      </fieldset>
	    </div>
	  </div>

	  <div class="card">
	    <span class="card-title">Object data</span>
	    <div class="card-content">
	      <fieldset>
		<div class="input-field col s12">
		  <select name="object_kind">
		    <option value="" disabled selected>Choose your option</option>
		    <option value="Journal Article">
		      Journal Article
		    </option>
		    <option value="Technical Report">
		      Technical Report 
		    </option>
		    <option value="Conference Proceeding">
		      Conference Proceeding
		    </option>
		  </select>
		  <label>Publication kind</label>
		</div>
	      </fieldset>
            </div>
	  </div>

	  <div class="file-field input-field col s12">
	    <div class="btn">
	      <span>File</span>
	      {{ form.obj|safe }} 
	    </div>
	    <div class="file-path-wrapper">
	      <input class="file-path validate" type="text">
	    </div>
	  </div> 
	  <button class="btn waves-effect waves-light" type="submit">
	    Submit
	    <i class="material-icons right">send</i>
	  </button>
	</div>
      </form> 
    </div>
  </div>
</div>
{% endblock %}


{% block scripts %}
<script>
  $(document).ready(function(){
      $('select').formSelect();
  });
  $('#description').val('');
  M.textareaAutoResize($('#description'));
</script>
{% endblock %}
